# [875. Koko Eating Bananas](https://leetcode.com/problems/koko-eating-bananas/)


## é¢˜ç›®

Koko loves to eat bananas. There areÂ `N`Â piles of bananas, theÂ `i`-thÂ pile hasÂ `piles[i]`Â bananas. The guards have gone and will come back inÂ `H`Â hours.

Koko can decide her bananas-per-hour eating speed ofÂ `K`. Each hour, she chooses some pile of bananas, and eats K bananas from that pile. If the pile has less thanÂ `K`Â bananas, she eats all of them instead, and won't eat any more bananas during this hour.

Koko likes to eat slowly, but still wants to finish eating all the bananas before the guards come back.

Return the minimum integerÂ `K`Â such that she can eat all the bananas withinÂ `H`Â hours.

**Example 1**:

    Input: piles = [3,6,7,11], H = 8
    Output: 4

**Example 2**:

    Input: piles = [30,11,23,4,20], H = 5
    Output: 30

**Example 3**:

    Input: piles = [30,11,23,4,20], H = 6
    Output: 23

**Note**:

- `1 <= piles.length <= 10^4`
- `piles.length <= H <= 10^9`
- `1 <= piles[i] <= 10^9`


## é¢˜ç›®å¤§æ„


ç‚ç‚å–œæ¬¢åƒé¦™è•‰ã€‚è¿™é‡Œæœ‰Â NÂ å †é¦™è•‰ï¼Œç¬¬ i å †ä¸­æœ‰Â piles[i]Â æ ¹é¦™è•‰ã€‚è­¦å«å·²ç»ç¦»å¼€äº†ï¼Œå°†åœ¨Â HÂ å°æ—¶åå›æ¥ã€‚

ç‚ç‚å¯ä»¥å†³å®šå¥¹åƒé¦™è•‰çš„é€Ÿåº¦Â KÂ ï¼ˆå•ä½ï¼šæ ¹/å°æ—¶ï¼‰ã€‚æ¯ä¸ªå°æ—¶ï¼Œå¥¹å°†ä¼šé€‰æ‹©ä¸€å †é¦™è•‰ï¼Œä»ä¸­åƒæ‰ K æ ¹ã€‚å¦‚æœè¿™å †é¦™è•‰å°‘äº K æ ¹ï¼Œå¥¹å°†åƒæ‰è¿™å †çš„æ‰€æœ‰é¦™è•‰ï¼Œç„¶åè¿™ä¸€å°æ—¶å†…ä¸ä¼šå†åƒæ›´å¤šçš„é¦™è•‰ã€‚Â Â 

ç‚ç‚å–œæ¬¢æ…¢æ…¢åƒï¼Œä½†ä»ç„¶æƒ³åœ¨è­¦å«å›æ¥å‰åƒæ‰æ‰€æœ‰çš„é¦™è•‰ã€‚

è¿”å›å¥¹å¯ä»¥åœ¨ H å°æ—¶å†…åƒæ‰æ‰€æœ‰é¦™è•‰çš„æœ€å°é€Ÿåº¦ Kï¼ˆK ä¸ºæ•´æ•°ï¼‰ã€‚

æç¤ºï¼š

- 1 <= piles.length <= 10^4
- piles.length <= H <= 10^9
- 1 <= piles[i] <= 10^9



## è§£é¢˜æ€è·¯


- ç»™å‡ºä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„é‡Œé¢æ¯ä¸ªå…ƒç´ ä»£è¡¨çš„æ˜¯æ¯ä¸ªé¦™è•‰ğŸŒä¸²ä¸Šé¦™è•‰çš„ä¸ªæ•°ã€‚koko ä»¥ `k ä¸ªé¦™è•‰/å°æ—¶`çš„é€Ÿåº¦åƒè¿™äº›é¦™è•‰ã€‚å®ˆå«ä¼šåœ¨ `H å°æ—¶`ä»¥åå›æ¥ã€‚é—® k è‡³å°‘ä¸ºå¤šå°‘ï¼Œèƒ½åœ¨å®ˆå«å›æ¥ä¹‹å‰åƒå®Œæ‰€æœ‰çš„é¦™è•‰ã€‚å½“é¦™è•‰çš„ä¸ªæ•°å°äº k çš„æ—¶å€™ï¼Œè¿™ä¸ªå°æ—¶åªèƒ½åƒå®Œè¿™äº›é¦™è•‰ï¼Œä¸èƒ½å†åƒå…¶ä»–ä¸²ä¸Šçš„é¦™è•‰äº†ã€‚
- è¿™ä¸€é¢˜å¯ä»¥ç”¨äºŒåˆ†æœç´¢æ¥è§£ç­”ã€‚åœ¨ `[0 , max(piles)]` çš„èŒƒå›´å†…æœç´¢ï¼ŒäºŒåˆ†çš„è¿‡ç¨‹éƒ½æ˜¯å¸¸è§„æ€è·¯ã€‚åˆ¤æ–­æ˜¯å¦å·¦å³è¾¹ç•Œå¦‚æœåˆ’åˆ†çš„æ—¶å€™éœ€è¦æ³¨æ„é¢˜ç›®ä¸­ç»™çš„é™å®šæ¡ä»¶ã€‚å½“é¦™è•‰ä¸ªæ•°å°äº k çš„æ—¶å€™ï¼Œé‚£ä¸ªå°æ—¶ä¸èƒ½å†åƒå…¶ä»–é¦™è•‰äº†ã€‚


## ä»£ç 

```go

package leetcode

import "math"

func minEatingSpeed(piles []int, H int) int {
	low, high := 1, maxInArr(piles)
	for low < high {
		mid := low + (high-low)>>1
		if !isPossible(piles, mid, H) {
			low = mid + 1
		} else {
			high = mid
		}
	}
	return low
}

func isPossible(piles []int, h, H int) bool {
	res := 0
	for _, p := range piles {
		res += int(math.Ceil(float64(p) / float64(h)))
	}
	return res <= H
}

func maxInArr(xs []int) int {
	res := 0
	for _, x := range xs {
		if res < x {
			res = x
		}
	}
	return res
}

```